<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Video Content</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            background-color: #121212;
            color: #e1e1e1;
            padding: 20px;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #ff2d55;
        }
        
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .video-card {
            background: #1a1a1a;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .video-thumbnail {
            width: 100%;
            height: 180px;
            object-fit: cover;
            cursor: pointer;
        }
        
        .video-info {
            padding: 15px;
        }
        
        .video-title {
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        video {
            width: 100%;
            border-radius: 8px;
            display: none;
        }
        
        .active-video {
            display: block;
        }

        .video-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
        }
        
        .copy-link-btn {
            background: #333;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .copy-link-btn:hover {
            background: #555;
        }
        
        .copy-link-btn.copied {
            background: #4CAF50;
        }
        
        /* Payment Overlay */
        .payment-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .payment-box {
            background: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 90%;
            width: 400px;
            text-align: center;
            color: #333;
        }
        
        .payment-title {
            font-size: 24px;
            margin-bottom: 15px;
            color: #ff2d55;
        }
        
        .payment-amount {
            font-size: 28px;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .qr-code {
            width: 200px;
            height: 200px;
            margin: 15px auto;
        }
        
        .upi-id {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            margin: 15px 0;
            word-break: break-all;
        }
        
        .upi-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        .upi-btn {
            padding: 10px 15px;
            border-radius: 5px;
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .paytm { background: #00baf2; }
        .gpay { background: #4285F4; }
        .phonepe { background: #5f259f; }
        .bhim { background: #3b7d4a; }
        
        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #ff2d55;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
        }
        
        .payment-note {
            font-size: 12px;
            margin-top: 15px;
            color: #666;
        }

        /* Audio Player (hidden) */
        #paymentAudio {
            display: none;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
    <h1>Premium Video Content</h1>
    
    <div class="video-grid">
        <!-- Video 1 -->
        <div class="video-card">
            <img src="https://i.ibb.co/chXnPcQd/IMG-7431.jpg" class="video-thumbnail" onclick="playPreview(this, 'https://files.catbox.moe/0b1ufl.mp4', 'video1')">
            <div class="video-info">
                <h3 class="video-title">Exclusive Video 1</h3>
                <video id="video1" controls>
                    <source src="" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <div class="video-actions">
                    <button class="copy-link-btn" onclick="copyVideoLink('video1')">
                        <i class="fas fa-link"></i> Copy Link
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Video 2 -->
        <div class="video-card">
            <img src="https://i.ibb.co/XfJNFPbg/IMG-7420.jpg" class="video-thumbnail" onclick="playPreview(this, 'https://files.catbox.moe/0b1ufl.mp4', 'video2')">
            <div class="video-info">
                <h3 class="video-title">Exclusive Video 2</h3>
                <video id="video2" controls>
                    <source src="" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <div class="video-actions">
                    <button class="copy-link-btn" onclick="copyVideoLink('video2')">
                        <i class="fas fa-link"></i> Copy Link
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Video 3 -->
        <div class="video-card">
            <img src="https://i.ibb.co/6JGtJfB3/IMG-7421.jpg" class="video-thumbnail" onclick="playPreview(this, 'https://files.catbox.moe/0b1ufl.mp4', 'video3')">
            <div class="video-info">
                <h3 class="video-title">Exclusive Video 3</h3>
                <video id="video3" controls>
                    <source src="" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <div class="video-actions">
                    <button class="copy-link-btn" onclick="copyVideoLink('video3')">
                        <i class="fas fa-link"></i> Copy Link
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Overlay -->
    <div class="payment-overlay" id="paymentOverlay">
        <button class="close-btn" onclick="closePayment()">×</button>
        <div class="payment-box">
            <h2 class="payment-title">Continue Watching</h2>
            <p>Pay ₹99 to unlock full video</p>
            <div class="payment-amount">₹99</div>
            
            <img class="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=upi://pay?ver=01&mode=01&pa=netc.34161FA820328AA2D218C8C0@mairtel&purpose=00&mc=4784&pn=Premium%20Video%20Access&am=99&orgid=159753&qrMedium=04" alt="UPI QR Code">
            
            <div class="upi-id">netc.34161FA820328AA2D218C8C0@mairtel</div>
            
            <div class="upi-buttons">
                <button class="upi-btn paytm" onclick="openUPI('paytm')">
                    <i class="fab fa-paytm"></i> Paytm
                </button>
                <button class="upi-btn gpay" onclick="openUPI('gpay')">
                    <i class="fab fa-google"></i> Google Pay
                </button>
                <button class="upi-btn phonepe" onclick="openUPI('phonepe')">
                    <i class="fas fa-mobile-alt"></i> PhonePe
                </button>
                <button class="upi-btn bhim" onclick="openUPI('bhim')">
                    <i class="fas fa-rupee-sign"></i> BHIM
                </button>
            </div>
            
            <p class="payment-note">Payment verification may take 1-2 minutes</p>
        </div>
    </div>

    <!-- Audio Element -->
    <audio id="paymentAudio" src="https://files.catbox.moe/7ye49n.mp3"></audio>

    <script>
        let currentVideoId = null;
        let previewTimer = null;
        const previewDuration = 10000; // 10 seconds preview
        const paymentAudio = document.getElementById('paymentAudio');

        // Play preview of video
        function playPreview(thumbnail, videoUrl, videoId) {
            // Hide all videos first
            const allVideos = document.querySelectorAll('video');
            allVideos.forEach(video => {
                video.style.display = 'none';
                video.pause();
                video.currentTime = 0;
            });
            
            // Set current video ID
            currentVideoId = videoId;
            
            // Find the video element
            const video = document.getElementById(videoId);
            const source = video.querySelector('source');
            
            // Set the video source and play
            source.src = videoUrl;
            video.load();
            video.style.display = 'block';
            
            // Start preview timer
            startPreviewTimer(video);
            
            video.play().catch(e => console.log("Autoplay blocked:", e));
        }
        
        // Start timer for preview
        function startPreviewTimer(videoElement) {
            // Clear any existing timer
            clearTimeout(previewTimer);
            
            // Set new timer
            previewTimer = setTimeout(() => {
                videoElement.pause();
                showPaymentOverlay();
            }, previewDuration);
            
            // Reset timer if user seeks back
            videoElement.addEventListener('seeked', () => {
                if (videoElement.currentTime < previewDuration/1000) {
                    clearTimeout(previewTimer);
                    previewTimer = setTimeout(() => {
                        videoElement.pause();
                        showPaymentOverlay();
                    }, previewDuration - (videoElement.currentTime * 1000));
                }
            });
        }
        
        // Show payment overlay
        function showPaymentOverlay() {
            document.getElementById('paymentOverlay').style.display = 'flex';
            // Play payment audio
            paymentAudio.currentTime = 0;
            paymentAudio.play().catch(e => console.log("Audio play blocked:", e));
        }
        
        // Close payment overlay
        function closePayment() {
            document.getElementById('paymentOverlay').style.display = 'none';
            paymentAudio.pause();
            
            // Restart preview if video exists
            if (currentVideoId) {
                const video = document.getElementById(currentVideoId);
                video.currentTime = 0;
                video.play().catch(e => console.log("Autoplay blocked:", e));
                startPreviewTimer(video);
            }
        }
        
        // Open UPI apps
        function openUPI(app) {
            const upiId = "netc.34161FA820328AA2D218C8C0@mairtel";
            const name = "Premium Video Access";
            const amount = "99";
            let uri;
            
            switch(app) {
                case 'paytm':
                    uri = `paytmmp://upi/pay?pa=${upiId}&pn=${encodeURIComponent(name)}&am=${amount}`;
                    break;
                case 'gpay':
                    uri = `tez://upi/pay?pa=${upiId}&pn=${encodeURIComponent(name)}&am=${amount}`;
                    break;
                case 'phonepe':
                    uri = `phonepe://pay?pa=${upiId}&pn=${encodeURIComponent(name)}&am=${amount}`;
                    break;
                case 'bhim':
                    uri = `upi://pay?pa=${upiId}&pn=${encodeURIComponent(name)}&am=${amount}`;
                    break;
                default:
                    uri = `upi://pay?pa=${upiId}&pn=${encodeURIComponent(name)}&am=${amount}`;
            }
            
            window.location.href = uri;
            
            // Fallback if app not installed
            setTimeout(() => {
                if (!document.hidden) {
                    window.location.href = `https://upayi.money/pay?pa=${upiId}&pn=${encodeURIComponent(name)}&am=${amount}`;
                }
            }, 500);
        }

        // Copy video link
        function copyVideoLink(videoId) {
            const currentUrl = window.location.href.split('?')[0];
            const videoLink = `${currentUrl}?video=${videoId}`;
            
            navigator.clipboard.writeText(videoLink)
                .then(() => {
                    const btn = document.querySelector(`button[onclick="copyVideoLink('${videoId}')"]`);
                    btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                    btn.classList.add("copied");
                    
                    setTimeout(() => {
                        btn.innerHTML = '<i class="fas fa-link"></i> Copy Link';
                        btn.classList.remove("copied");
                    }, 2000);
                })
                .catch(err => {
                    alert("Failed to copy link. Please try manually.");
                });
        }
        
        // Check URL on page load to auto-play a video if shared
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const videoId = urlParams.get('video');
            
            if (videoId) {
                const videoElement = document.getElementById(videoId);
                if (videoElement) {
                    const thumbnail = videoElement.closest('.video-card').querySelector('.video-thumbnail');
                    const videoUrl = thumbnail.getAttribute('onclick').split("'")[1];
                    playPreview(thumbnail, videoUrl, videoId);
                }
            }
        };
    </script>
</body>
</html>
